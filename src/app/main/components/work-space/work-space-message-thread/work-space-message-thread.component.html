<app-main-header></app-main-header>

<mat-toolbar color='primary'>
    <mat-toolbar-row class="tool-bar-row" >
        <span>
            <button mat-button (click)='goBack()'>
                <mat-icon>keyboard_arrow_left</mat-icon>
            </button> 
            <span *ngIf='workspacePost'>{{ "Thread > " + workspacePost.message_title }}</span>
        </span>
        <div class="util-bar">
            <button matTooltip="Add Message" mat-flat-button color='primary' (click)="openAddReplyToPostDialog()">
                <mat-icon> add_comment </mat-icon>
                Reply
            </button>
        </div>
    </mat-toolbar-row>
</mat-toolbar>

<div style="display: flex; justify-content: stretch;" class="hide-scroll-bar">
    <div style="width: 25%;">
        <!-- Show artifact and members -->
        <app-work-space-info-panel *ngIf='workspaceID'></app-work-space-info-panel>
    </div>
    <div style="width: 75%;" style="height: 400px; width: 100%;" style="padding: 30px;overflow-x: scroll; height: calc(100vh - 190px); width: 100%;">
        <div>
            <app-message-card *ngIf="workspacePost" [workspacePost]="workspacePost" [hideControls]="true"></app-message-card>
            <div style="display: flex; width: 100%; margin-top:50px; justify-content: center;" *ngIf="!workspacePost">
                <mat-spinner [diameter]="50"></mat-spinner>
            </div>
        </div>
        <div>
            <app-work-space-message-thread-reply-card style="width: 60%;" *ngFor="let workspacePostReply of workspacePostReplies" [workspacePostReply]="workspacePostReply"> </app-work-space-message-thread-reply-card>
        </div>
    </div>
</div>